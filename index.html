<html>

<head>
  <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.misc.min.js"></script>
  <!-- <script src="https://rawgit.com/c-frame/aframe-super-hands-component/master/dist/super-hands.js"></script> -->
  <script src="https://unpkg.com/super-hands/dist/super-hands.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/aframe-blink-controls/dist/aframe-blink-controls.min.js"></script>

  <script>
    AFRAME.registerComponent('cursor-listenerr', {
      init: function () {
        console.log("init");
        var newcolor = "green";

        this.el.addEventListener("click",
          function (e) {
            console.log("click");
            this.setAttribute('material', 'color', newcolor);
          });

        this.el.addEventListener("mouseenter",
          function (e) {
            console.log("mouse enter");
            // Muestra informacion del objeto
            console.log(e.detail.intersection.object);
            // Muestra el punto de interseccion
            console.log(e.detail.intersection.point);

            this.setAttribute('material', 'color', newcolor);
          });

        this.el.addEventListener("mouseleave",
          function (e) {
            console.log("mouse leave");
            this.setAttribute('material', 'color', "yellow");
          });
      }
    });
  </script>
</head>

<body>
  <a-scene light="defaultLightsEnabled: false"
    inspector="url: https://cdn.jsdelivr.net/gh/aframevr/aframe-inspector@master/dist/aframe-inspector.min.js"
    gltf-model="dracoDecoderPath: https://www.gstatic.com/draco/v1/decoders/">

    <a-sky color="#ECECEC" material ="color: #5151f5"></a-sky>

    <a-entity id="Ambient Light" position="0 1.16474 0" light="color: #ffffff; type: ambient; castShadow: false; intensity: 1.91"></a-entity>
    <a-entity id="Point Light" rotation="0 0 0" light="color: #0a18db; decay: 0.36; distance: 10; type: point; castShadow: true"></a-entity>

    <a- assets>
      <a-asset-item id="gallery" src="assets/gallery.glb"></a-asset-item>
      <a-asset-item id="ted" src="assets/ted.glb"></a-asset-item>
      <a-asset-item id="pig" src="https://awesomesaucelabs.github.io/piglet-webgl-demo/StreamingAssets/piggleston.glb"></a-asset-item>
    </a- assets>

    <!-- <a-entity camera look-controls position="0 1.6 0">
        <a-cursor position = "0 0 -1" geometry = "primitive:ring; radiusInner:0.03; radiusOuter: 0.04"></a-cursor>
      </a-entity> -->

    <a-entity id="player" position="0 0 2.43">
      <!-- camera -->
      <a-entity id="camera" camera wasd-controls look-controls position="0 1.6 0">
        <a-cursor position="0 0 -1" geometry="primitive:ring; radiusInner:0.03; radiusOuter: 0.04"></a-cursor>
      </a-entity>
      <!-- hand controls -->
      <!-- <a-entity laser-controls="hand: left"  raycaster="lineColor: blue; lineOpacity: 0.5"></a-entity> -->
      <!-- <a-entity id="rightHand" hand-controls="hand: right; handModelStyle: lowPoly; color: #ffcccc"></a-entity> -->
      <!-- <a-entity sphere-collider="objects: a-box" super-hands hand-controls="hand: right; handModelStyle: lowPoly; color : #ffcccc"></a-entity>-->
      <a-entity sphere-collider="objects: a-box" super-hands hand-controls="hand: right" blink-controls></a-entity>
      <a-entity id="left-hand" oculus-touch-controls="hand: left" blink-controls></a-entity>
    </a-entity>

    <a-sphere position="0 1.25 -5" radius="1.25" color="#EF2D5E" cursor-listenerr></a-sphere>

    <a-entity id="Casita" position="0 0 0" gltf-model="#gallery"></a-entity>
    <a-entity id="Elephant" visible="true" position="1.18033 0.72734 2.45728" scale="0.22673 0.22673 0.22673" rotation="0 1.9658181950938545 0" gltf-model="#pig"></a-entity>
    <a-entity id="ted" position="0 0 1.5" gltf-model="#ted"></a-entity>
    
    <a-box grabbable color="blue" position="0 0 -1"></a-box>
    
    <!-- <a-box 
        grabbable
        hoverable
        draggable
        droppable   
        position = "0 1 0"
        color = "yellow"
      ></a-box> -->

  </a-scene>
</body>

</html>